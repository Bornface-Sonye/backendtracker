{% extends 'cod_base_dashboard.html' %}
{% block content %}
<h3 style="font-family: Arial, sans-serif; color: #2c3e50;">Unapproved Responses for Your Department</h3>

<table class="table table-bordered" style="font-family: Arial, sans-serif; margin-top: 20px; border: 1px solid #ddd; background-color: #f9f9f9;">
    <thead>
        <tr>
            <th>Complaint Code</th>
            <th>Student</th>
            <th>Unit</th>
            <th>Response Date</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for response in responses %}
        <tr>
            <td>{{ response.complaint.complaint_code }}</td>
            <td>{{ response.complaint.student.reg_no }}</td>
            <td>{{ response.complaint.unit_offering.unit.unit_code }}</td>
            <td>{{ response.response_date }}</td>
            <td><a href="{% url 'cod_approve_response' complaint_code=response.complaint.complaint_code %}" class="btn btn-info">Approve</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if messages %}
    <div class="alert alert-info" style="font-family: Arial, sans-serif; background-color: #2ecc71; color: white;">
        {% for message in messages %}
            <p>{{ message }}</p>
        {% endfor %}
    </div>
{% endif %}

{% endblock %}
